承知いたしました。

出力される画像全体が「正方形」になるように、キャンバスのサイズと、内部のレイアウト（写真や文字の配置バランス）を調整しました。

* **キャンバスサイズ**: `800x1200`（縦長）から **`1000x1000`（正方形）**に変更しました。
* **レイアウト調整**: 正方形の枠内に収まるよう、タイトル、写真の位置、テキストの開始位置と行間を微調整しました。写真は引き続き大きく配置されています。

以下のコードを `index.html` に上書きしてGitHubへアップロードしてください。

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificate Generator</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700&family=Cormorant+Garamond:wght@500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cormorant Garamond', serif;
            background-color: #1a2238; /* 深いネイビーの背景 */
            color: #d4af37; /* ゴールドのテキスト色 */
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        h1 {
            font-family: 'Cinzel Decorative', cursive;
            letter-spacing: 2px;
            margin-bottom: 20px;
        }
        .container {
            background-color: #232f4e;
            padding: 30px;
            border: 2px solid #d4af37;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
            width: 100%;
            max-width: 500px;
        }
        .input-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            letter-spacing: 1px;
        }
        input[type="text"], input[type="file"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #d4af37;
            background-color: #1a2238;
            color: #fff;
            border-radius: 4px;
            box-sizing: border-box; /* パディングを含めた幅計算 */
        }
        button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(to bottom, #e6c766, #d4af37);
            border: none;
            color: #1a2238;
            font-size: 1.1em;
            font-weight: bold;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }
        button:hover {
            background: linear-gradient(to bottom, #f0d88b, #e6c766);
        }
        #preview-container {
            margin-top: 30px;
            text-align: center;
            display: none; /* 初期状態は非表示 */
        }
        canvas {
            max-width: 100%;
            height: auto;
            border: 3px solid #d4af37;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }
        #download-btn {
            margin-top: 15px;
            background: linear-gradient(to bottom, #fff, #e0e0e0);
            color: #1a2238;
        }
    </style>
</head>
<body>

    <h1>Certificate Generator</h1>

    <div class="container">
        <div class="input-group">
            <label for="photo-upload">PHOTO (顔写真):</label>
            <input type="file" id="photo-upload" accept="image/*">
        </div>
        <div class="input-group">
            <label for="name-input">NAME (氏名):</label>
            <input type="text" id="name-input" placeholder="例: 山田 太郎 / Taro Yamada">
        </div>
        <div class="input-group">
            <label for="dept-input">DEPARTMENT (部署):</label>
            <input type="text" id="dept-input" placeholder="例: 営業部 / Sales Div.">
        </div>
        <div class="input-group">
            <label for="pos-input">POSITION (役職):</label>
            <input type="text" id="pos-input" placeholder="例: 部長 / Manager">
        </div>
        <button onclick="generateCertificate()">認定証を作成</button>
    </div>

    <div id="preview-container">
        <h2>Preview</h2>
        <canvas id="certificateCanvas" width="1000" height="1000"></canvas>
        <br>
        <a id="download-link" download="certificate.png">
            <button id="download-btn">画像をダウンロード</button>
        </a>
    </div>

    <script>
        let uploadedImage = null;
        const photoInput = document.getElementById('photo-upload');
        const canvas = document.getElementById('certificateCanvas');
        const ctx = canvas.getContext('2d');
        const previewContainer = document.getElementById('preview-container');
        const downloadLink = document.getElementById('download-link');

        // フォントの読み込みを待つためのプロミス
        const fontLoadPromise = document.fonts.ready;

        // 画像アップロード時の処理
        photoInput.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    uploadedImage = new Image();
                    uploadedImage.onload = function() {
                        console.log("Image loaded successfully");
                    };
                    uploadedImage.src = event.target.result;
                };
                reader.readAsDataURL(file);
            }
        });

        async function generateCertificate() {
            // フォントの読み込みを確実に待つ
            await fontLoadPromise;

            const name = document.getElementById('name-input').value || ' ';
            const dept = document.getElementById('dept-input').value || ' ';
            const pos = document.getElementById('pos-input').value || ' ';

            // 1. 背景描画（深いネイビー）
            const grad = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            grad.addColorStop(0, '#1a2238');
            grad.addColorStop(1, '#232f4e');
            ctx.fillStyle = grad;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // 2. 外枠装飾（ゴールド）
            ctx.strokeStyle = '#d4af37';
            ctx.lineWidth = 15;
            ctx.strokeRect(20, 20, canvas.width - 40, canvas.height - 40);
            ctx.lineWidth = 3;
            ctx.strokeRect(35, 35, canvas.width - 70, canvas.height - 70);

            // 3. タイトル描画
            ctx.fillStyle = '#d4af37';
            ctx.textAlign = 'center';
            // フォントサイズを調整し、1行に変更。位置も少し上に調整(100)。
            ctx.font = '65px "Cinzel Decorative", cursive';
            ctx.fillText('GLAM GROUP MEMBER', canvas.width / 2, 100);


            // 4. 写真描画エリア
            // 正方形レイアウトに合わせて位置を調整
            const photoSize = 600; // 写真サイズはそのまま大きく
            const photoY = 160; // タイトルの下、少し間を空けて配置
            const photoX = (canvas.width - photoSize) / 2;

            // 写真の枠
            ctx.strokeStyle = '#d4af37';
            ctx.lineWidth = 5;
            ctx.strokeRect(photoX - 5, photoY - 5, photoSize + 10, photoSize + 10);

            // 写真の描画（トリミング処理）
            if (uploadedImage) {
                ctx.save();
                ctx.beginPath();
                ctx.rect(photoX, photoY, photoSize, photoSize);
                ctx.clip();

                // アスペクト比を維持して中央に配置
                const scale = Math.max(photoSize / uploadedImage.width, photoSize / uploadedImage.height);
                const x = photoX + (photoSize - uploadedImage.width * scale) / 2;
                const y = photoY + (photoSize - uploadedImage.height * scale) / 2;
                ctx.drawImage(uploadedImage, x, y, uploadedImage.width * scale, uploadedImage.height * scale);
                ctx.restore();
            } else {
                // 写真がない場合のプレースホルダー
                ctx.fillStyle = '#2a3a5e';
                ctx.fillRect(photoX, photoY, photoSize, photoSize);
                ctx.fillStyle = '#d4af37';
                ctx.textAlign = 'center';
                ctx.font = '30px "Cormorant Garamond", serif';
                ctx.fillText('NO PHOTO', canvas.width / 2, photoY + photoSize / 2);
            }

            // 5. テキスト情報描画 (変更点：正方形に合わせて位置調整)
            // 写真の下のマージンを狭めて正方形に収める
            const textStartY = photoY + photoSize + 50;
            const lineHeight = 65; // 行間も少し狭める
            
            const labelX = 150; // ラベルの左端位置
            const valueX = canvas.width - 150; // 値の右端位置

            ctx.fillStyle = '#d4af37'; // ラベル色（ゴールド）

            // NAME
            ctx.textAlign = 'left'; // ラベルは左揃え
            ctx.font = 'bold 28px "Cormorant Garamond", serif';
            ctx.fillText('NAME :', labelX, textStartY);

            ctx.textAlign = 'right'; // 値は右揃え
            ctx.fillStyle = '#ffffff'; // 値色（白）
            ctx.font = 'bold 42px "Cormorant Garamond", serif';
            ctx.fillText(name, valueX, textStartY);

            // DEPARTMENT
            ctx.fillStyle = '#d4af37';
            ctx.textAlign = 'left';
            ctx.font = 'bold 28px "Cormorant Garamond", serif';
            ctx.fillText('DEPARTMENT :', labelX, textStartY + lineHeight);

            ctx.fillStyle = '#ffffff';
            ctx.textAlign = 'right';
            ctx.font = 'bold 42px "Cormorant Garamond", serif';
            ctx.fillText(dept, valueX, textStartY + lineHeight);

            // POSITION
            ctx.fillStyle = '#d4af37';
            ctx.textAlign = 'left';
            ctx.font = 'bold 28px "Cormorant Garamond", serif';
            ctx.fillText('POSITION :', labelX, textStartY + lineHeight * 2);

            ctx.fillStyle = '#ffffff';
            ctx.textAlign = 'right';
            ctx.font = 'bold 42px "Cormorant Garamond", serif';
            ctx.fillText(pos, valueX, textStartY + lineHeight * 2);

            // 6. 日付（フッター）
            // 正方形の底辺ギリギリに配置
            const today = new Date();
            const dateString = today.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            ctx.fillStyle = '#d4af37';
            ctx.textAlign = 'center';
            ctx.font = '20px "Cormorant Garamond", serif';
            ctx.fillText(`Presented on ${dateString}`, canvas.width / 2, canvas.height - 35);


            // プレビュー表示とダウンロードリンク設定
            previewContainer.style.display = 'block';
            downloadLink.href = canvas.toDataURL('image/png');
            // 生成後にスクロール
            previewContainer.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>

```
